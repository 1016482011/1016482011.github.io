---
title: react的一些总结 02
author: 陈龙
date: 2019-05-20 17:30:26
tags: [react]
categories: [react]
---

## ui 到接口，还是接口到 ui？

是先写 ui，还是先写接口，有些时候不是我们能够控制的，比如有时候接口还没设计好，有时候 ui 设计慢了一步。

首先是从 ui 到接口的开发过程，顺序大致如下：

1. 拿到 ui 图之后我目前的做法是先通过 html 和 css 将页面绘制出来，如果不是套用组件的话，css 采用 BEM 来写，方便后面拆分组件。
2. 页面 ui 全部完成之后就到了拆分组件的时候了，大致按照 BEM 块或者功能模块将 ui 拆分到一个个文件里，在拆分组件的同时也需要完成这个组件的接口和事件。
3. 组件拆分完成后，定义好 redux 状态，并写好 action，并绑定到组件上，这个时候的数据还都是假数据，但业务逻辑应该都已经基本实现。
4. 状态定义完成之后，完成 api 对接即可。

再看看接口到 ui，开发的过程可以看成是上面的反过来的情况：

1. 首先将 api 全部在文件里定义好。
2. 根据 api 定义规划 redux 状态的 action 和 state，预先将 action 和 state 都定义完。
3. 划分组件，除去公用组件，划分出来的组件应该都是相互独立的，他们通过 redux 通信。
4. 最后将这些组件组装为一个完整的页面，其实这一步和第三步差不多同时进行了。

总结：从个人开发体验上来讲，我更喜欢从接口到 ui，开发效率更高，主要体现在，在写 ui 时所有的数据和状态 action 都定义好了，开发比较顺畅，而且根据接口和状态来拆分组件也比较科学，二次拆分情况较少。
